module "iam" {
  source                  = "./modules"
  region                  = var.region
  account                 = var.account
  s3_folder               = var.s3_folder
  s3_region               = var.s3_region
  s3_folder_type          = var.s3_folder_type
  s3_bucket               = var.s3_bucket
  s3_tfstate_file         = var.s3_tfstate_file
  environment             = var.environment
  business_name           = var.business_name
  capability              = var.capability
  map-migrated-server-id  = var.map-migrated-server-id
  policy_name_mwaa        = var.policy_name_mwaa
  role_name_mwaa          = var.role_name_mwaa
  airflow_arn_mwaa        = var.airflow_arn_mwaa
  s3_bucket_mwaa_dag      = var.s3_bucket_mwaa_dag
  s3_buckets_mwaa         = var.s3_buckets_mwaa

  ebank_user                          = var.ebank_user
  ebank_policy                        = var.ebank_policy
  pos_external_user                   = var.pos_external_user
  pos_external_policy                 = var.pos_external_policy
  pos_user                            = var.pos_user
  pos_policy                          = var.pos_policy
  Freedom_pay_user                    = var.Freedom_pay_user
  Freedom_pay_policy                  = var.Freedom_pay_policy
  s3_bucket_freedom_pay               = var.s3_bucket_freedom_pay
  hosted_preprocess_lambda_exec_role  = var.hosted_preprocess_lambda_exec_role
  timeworks_user                      = var.timeworks_user
  timeworks_user_policy               = var.timeworks_user_policy
  pdb_user                            = var.pdb_user
  pdb_policy                          = var.pdb_policy 
  s3_bucket_pdb                       = var.s3_bucket_pdb
  s3_bucket_incoming_external         = var.s3_bucket_incoming_external
  file_decrypt_lambda_exec_role       = var.file_decrypt_lambda_exec_role
  file_decrypt_lambda_exec_policy     = var.file_decrypt_lambda_exec_policy
  file_decrypt_secret_arns            = var.file_decrypt_secret_arns
  file_rename_lambda_exec_role        = var.file_rename_lambda_exec_role
  file_rename_lambda_exec_policy      = var.file_rename_lambda_exec_policy
  jobalert_lambda_exec_role           = var.jobalert_lambda_exec_role
  AmazonEKSClusterAutoscalerRole      = var.AmazonEKSClusterAutoscalerRole
  AmazonEKSClusterAutoscalerPolicy    = var.AmazonEKSClusterAutoscalerPolicy
  provider_url                        = var.provider_url
  eks_name                            = var.eks_name
  role_name_flowlog                   = var.role_name_flowlog
  policy_name_flowlog                 = var.policy_name_flowlog
  sftp_file_transfer_lambda_exec_role = var.sftp_file_transfer_lambda_exec_role
  iam_policy_arn                      = var.iam_policy_arn
  job_alert_iam_policy_arn            = var.job_alert_iam_policy_arn
  sox_user                            = var.sox_user
  sox_policy                          = var.sox_policy
  s3_bucket_sox                       = var.s3_bucket_sox
  igaming_user                        = var.igaming_user
  igaming_policy                      = var.igaming_policy
  igaming_lambda_exec_role            = var.igaming_lambda_exec_role
  igaming_lambda_exec_policy          = var.igaming_lambda_exec_policy
  shelf_user                          = var.shelf_user
  shelf_policy                        = var.shelf_policy
  s3_bucket_outbound                  = var.s3_bucket_outbound
  ethnicity_user                     = var.ethnicity_user
  ethnicity_policy                   = var.ethnicity_policy
  ethnicity_lambda_role              = var.ethnicity_lambda_role
  ethnicity_lambda_policy            = var.ethnicity_lambda_policy
  ethnicity_iam_policy_arn           = var.ethnicity_iam_policy_arn
}